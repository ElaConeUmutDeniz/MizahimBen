
import { useContext, useCallback } from 'react';
import { SettingsContext } from '../hooks/useSettings';
import { Language, SupportedLanguages } from '../types';

const translations: Record<Language, Record<string, string>> = {
  tr: {
    siteTitle: "Mizahım Ben",
    siteDescription: "Sadece güzel mizah, sadece medeni güldürü anlayışı. - En son mizahları farklı kaynaklardan gör. Yapay zeka destekli!",
    currentJokes: "Güncel Mizahlar",
    oldJokes: "Eski Mizahlar",
    aiAssistant: "Yapay Zeka Asistanı",
    help: "Yardım",
    settings: "Ayarlar",
    home: "Anasayfa",
    theme: "Tema",
    light: "Aydınlık",
    dark: "Karanlık",
    secondaryColor: "İkincil Renk",
    font: "Yazı Tipi",
    language: "Dil",
    jokeSource: "Mizah Kaynağı",
    thirdPartySource: "Üçüncü Parti Kaynak",
    selectSource: "Bir kaynak seçin...",
    notifications: "Bildirimler",
    enableNotifications: "Bildirimleri Etkinleştir",
    notificationTime: "Bildirim Saati",
    saveSettings: "Ayarları Kaydet",
    settingsSaved: "Ayarlar kaydedildi!",
    copyright: "Telif hakkı yok ama mizahın kaynağını söylerseniz sizden razı oluruz.",
    contact: "İletişim ve mizah kaynağını eklettirme için epostamız",
    helpTitle: "Kendi Mizah Kaynağınızı Nasıl Yaratırsınız?",
    aiWelcome: "Ben Mizahım Ben'in Gemini tabanlı yapay zeka asistanıyım. Nasıl yardımcı olabilirim?",
    generateJoke: "Mizah Üret",
    evaluateJoke: "Mizahımı Değerlendir",
    typeHere: "Buraya yazın...",
    send: "Gönder",
    loading: "Yükleniyor...",
    errorFetchJokes: "Mizah kaynağı yüklenirken bir hata oluştu. Lütfen daha sonra tekrar deneyin.",
    errorFetchMarkdown: "Mizah içeriği yüklenemedi.",
    translate: "Çevir",
    pageNotFound: "Sayfa Bulunamadı",
    geminiDisclaimer: "Gemini Tarafından Desteklenmektedir",
    errorTitle: "Hata!",
    errorInstruction: "Sitemize sağ tıklayıp İncele/Denetle seçeneğine tıklayarak Konsol sekmesine gidip oradaki mesajları alttaki e-postamıza gönderebilirsiniz.",
    errorAIAssistant: "Yapay zeka ile iletişim kurarken bir hata oluştu. Lütfen daha sonra tekrar deneyin."
  },
  en: {
    siteTitle: "Mizahim Ben - I'm a Joke",
    siteDescription: "Just good humor, just a civilized sense of laughter. - See the latest jokes from different sources. AI-included!",
    currentJokes: "Current Jokes",
    oldJokes: "Old Jokes",
    aiAssistant: "AI Assistant",
    help: "Help",
    settings: "Settings",
    home: "Home",
    theme: "Theme",
    light: "Light",
    dark: "Dark",
    secondaryColor: "Secondary Color",
    font: "Font",
    language: "Language",
    jokeSource: "Joke Source",
    thirdPartySource: "Third-Party Source",
    selectSource: "Select a source...",
    notifications: "Notifications",
    enableNotifications: "Enable Notifications",
    notificationTime: "Notification Time",
    saveSettings: "Save Settings",
    settingsSaved: "Settings saved!",
    copyright: "No copyright, but we would appreciate it if you mention the source of the joke.",
    contact: "Our email for contact and to have your joke source added",
    helpTitle: "How to Create Your Own Joke Source",
    aiWelcome: "I am the Gemini-based AI assistant of Mizahım Ben. How can I help you?",
    generateJoke: "Generate Joke",
    evaluateJoke: "Evaluate My Joke",
    typeHere: "Type here...",
    send: "Send",
    loading: "Loading...",
    errorFetchJokes: "An error occurred while loading the joke source. Please try again later.",
    errorFetchMarkdown: "Failed to load joke content.",
    translate: "Translate",
    pageNotFound: "Page Not Found",
    geminiDisclaimer: "Powered by Gemini",
    errorTitle: "Error!",
    errorInstruction: "You can go to the Console tab from the Inspect/Developer tools in your browser and send the messages there to our email address below.",
    errorAIAssistant: "An error occurred while communicating with the AI. Please try again later."
  },
  uz: {
    siteTitle: "Mizahim Ben - Men Hazilman ",
    currentJokes: "Joriy Hazillar",
    oldJokes: "Eski Hazillar",
    settings: "Sozlamalar",
    aiAssistant: "AI Yordamchi",
    help: "Yordam",
    home: "Bosh Sahifa",
    theme: "Mavzu",
    light: "Yorug'",
    dark: "Qorong'u",
    language: "Til",
    copyright: "Mualliflik huquqi yo'q, lekin hazil manbasini eslatib o'tsangiz minnatdor bo'lamiz.",
    geminiDisclaimer: "Gemini tomonidan quvvatlanadi",
    contact: "Aloqa va hazil manbasini qo'shish uchun bizning elektron pochtamiz",
    translate: "Tarjima qilish",
    errorTitle: "Xato!",
    errorInstruction: "Brauzeringizdagi Tekshirish/Tuzatuvchi vositalaridan Konsol yorlig'iga o'tib, u yerdagi xabarlarni quyidagi elektron pochtamizga yuborishingiz mumkin.",
    errorAIAssistant: "AI bilan muloqot qilishda xatolik yuz berdi. Iltimos, keyinroq qayta urinib ko'ring."
  },
  az: {
    siteTitle: "Mizahim Ben- Mən Zarafatam",
    currentJokes: "Cari Zarafatlar",
    oldJokes: "Köhnə Zarafatlar",
    settings: "Parametrlər",
    aiAssistant: "Süni İntellekt Köməkçisi",
    help: "Kömək",
    home: "Ana Səhifə",
    theme: "Mövzu",
    light: "İşıqlı",
    dark: "Qaranlıq",
    language: "Dil",
    copyright: "Müəllif hüququ yoxdur, ancaq zarafatın mənbəyini qeyd etsəniz minnətdar olarıq.",
    geminiDisclaimer: "Gemini tərəfindən dəstəklənir",
    contact: "Əlaqə və zarafat mənbəyinizi əlavə etdirmək üçün e-poçtumuz",
    translate: "Tərcümə et",
    errorTitle: "Xəta!",
    errorInstruction: "Brauzerinizdəki Yoxlama/Tərtibatçı alətlərindən Konsol sekmesine keçib oradakı mesajları aşağıdakı e-poçtumuza göndərə bilərsiniz.",
    errorAIAssistant: "Süni intellektlə əlaqə saxlayarkən xəta baş verdi. Zəhmət olmasa, daha sonra yenidən cəhd edin."
  },
  de: {
    siteTitle: "Mizahim Ben - Ich bin ein Witz",
    currentJokes: "Aktuelle Witze",
    oldJokes: "Alte Witze",
    settings: "Einstellungen",
    aiAssistant: "KI-Assistent",
    help: "Hilfe",
    home: "Startseite",
    theme: "Thema",
    light: "Hell",
    dark: "Dunkel",
    language: "Sprache",
    copyright: "Kein Urheberrecht, aber wir würden uns freuen, wenn Sie die Quelle des Witzes erwähnen.",
    geminiDisclaimer: "Angetrieben von Gemini",
    contact: "Unsere E-Mail für Kontakt und um Ihre Witzquelle hinzuzufügen",
    translate: "Übersetzen",
    errorTitle: "Fehler!",
    errorInstruction: "Sie können in den Entwicklertools Ihres Browsers auf die Registerkarte 'Konsole' gehen und die dortigen Meldungen an unsere unten stehende E-Mail-Adresse senden.",
    errorAIAssistant: "Bei der Kommunikation mit der KI ist ein Fehler aufgetreten. Bitte versuchen Sie es später erneut."
  },
  fr: {
    siteTitle: "Mizahim Ben - Je suis une blague",
    currentJokes: "Blagues actuelles",
    oldJokes: "Anciennes blagues",
    settings: "Paramètres",
    aiAssistant: "Assistant IA",
    help: "Aide",
    home: "Accueil",
    theme: "Thème",
    light: "Clair",
    dark: "Sombre",
    language: "Langue",
    copyright: "Pas de droit d'auteur, mais nous apprécierions que vous mentionniez la source de la blague.",
    geminiDisclaimer: "Propulsé par Gemini",
    contact: "Notre e-mail pour nous contacter et faire ajouter votre source de blagues",
    translate: "Traduire",
    errorTitle: "Erreur !",
    errorInstruction: "Vous pouvez accéder à l'onglet Console des outils de développement de votre navigateur et envoyer les messages qui s'y trouvent à notre adresse e-mail ci-dessous.",
    errorAIAssistant: "Une erreur est survenue lors de la communication avec l'IA. Veuillez réessayer plus tard."
  },
  zh: {
    siteTitle: "Mizahim Ben - 我是个笑话",
    currentJokes: "当前笑话",
    oldJokes: "旧笑话",
    settings: "设置",
    aiAssistant: "人工智能助手",
    help: "帮助",
    home: "主页",
    theme: "主题",
    light: "浅色",
    dark: "深色",
    language: "语言",
    copyright: "沒有版权，但如果您能提及笑话的来源，我们将不胜感激。",
    geminiDisclaimer: "由 Gemini 提供支持",
    contact: "我们的联系邮箱，以及添加您的笑话来源",
    translate: "翻译",
    errorTitle: "错误！",
    errorInstruction: "您可以从浏览器的“检查”/“开发者工具”转到“控制台”选项卡，并将那里的消息发送到我们下面的电子邮件地址。",
    errorAIAssistant: "与人工智能通信时发生错误。请稍后再试。"
  },
  ru: {
    siteTitle: "Mizahim Ben - Я шутка",
    currentJokes: "Текущие шутки",
    oldJokes: "Старые шутки",
    settings: "Настройки",
    aiAssistant: "ИИ-ассистент",
    help: "Помощь",
    home: "Главная",
    theme: "Тема",
    light: "Светлая",
    dark: "Темная",
    language: "Язык",
    copyright: "Авторские права не защищены, но мы будем признательны, если вы укажете источник шутки.",
    geminiDisclaimer: "Создано на базе Gemini",
    contact: "Наша электронная почта для связи и добавления вашего источника шуток",
    translate: "Перевести",
    errorTitle: "Ошибка!",
    errorInstruction: "Вы можете перейти на вкладку 'Консоль' в инструментах разработчика вашего браузера и отправить сообщения оттуда на наш адрес электронной почты, указанный ниже.",
    errorAIAssistant: "Произошла ошибка при общении с ИИ. Пожалуйста, повторите попытку позже."
  },
  pt: {
    siteTitle: "Mizahim Ben - Eu sou uma piada",
    currentJokes: "Piadas Atuais",
    oldJokes: "Piadas Antigas",
    settings: "Configurações",
    aiAssistant: "Assistente de IA",
    help: "Ajuda",
    home: "Início",
    theme: "Tema",
    light: "Claro",
    dark: "Escuro",
    language: "Idioma",
    copyright: "Sem direitos autorais, mas agradeceríamos se você mencionasse a fonte da piada.",
    geminiDisclaimer: "Desenvolvido com Gemini",
    contact: "Nosso e-mail para contato e para adicionar sua fonte de piadas",
    translate: "Traduzir",
    errorTitle: "Erro!",
    errorInstruction: "Você pode ir para a aba Console nas ferramentas de desenvolvedor do seu navegador e enviar as mensagens de lá para o nosso endereço de e-mail abaixo.",
    errorAIAssistant: "Ocorreu um erro ao comunicar com a IA. Por favor, tente novamente mais tarde."
  },
  hi: {
    siteTitle: "Mizahim Ben - मैं एक मजाक हूँ",
    currentJokes: "वर्तमान चुटकुले",
    oldJokes: "पुराने चुटकुले",
    settings: "सेटिंग्स",
    aiAssistant: "एआई सहायक",
    help: "मदद",
    home: "होम",
    theme: "थीम",
    light: "लाइट",
    dark: "डार्क",
    language: "भाषा",
    copyright: "कोई कॉपीराइट नहीं, लेकिन अगर आप मजाक के स्रोत का उल्लेख करते हैं तो हम इसकी सराहना करेंगे।",
    geminiDisclaimer: "Gemini द्वारा संचालित",
    contact: "संपर्क और अपने मजाक स्रोत को जोड़ने के लिए हमारा ईमेल",
    translate: "अनुवाद",
    errorTitle: "त्रुटि!",
    errorInstruction: "आप अपने ब्राउज़र में इंस्पेक्ट/डेवलपर टूल से कंसोल टैब पर जा सकते हैं और वहां के संदेशों को हमारे नीचे दिए गए ईमेल पते पर भेज सकते हैं।",
    errorAIAssistant: "एआई के साथ संचार करते समय एक त्रुटि हुई। कृपया बाद में पुन: प्रयास करें।"
  },
};

export const useTranslation = () => {
    const context = useContext(SettingsContext);
    if (!context) {
        throw new Error('useTranslation must be used within a SettingsProvider');
    }
    const { settings } = context;
    const lang = settings.language;

    const t = useCallback((key: string): string => {
        return translations[lang]?.[key] || translations['en']?.[key] || key;
    }, [lang]);
    
    const languageName = useCallback((code: Language) => {
        const names: Record<Language, string> = {
            tr: 'Türkçe',
            en: 'English',
            uz: 'Oʻzbekcha',
            az: 'Azərbaycanca',
            de: 'Deutsch',
            fr: 'Français',
            zh: '中文',
            ru: 'Русский',
            pt: 'Português',
            hi: 'हिन्दी',
        }
        return names[code];
    }, []);

    return { t, lang, setLanguage: context.updateSetting, languageName, supportedLanguages: SupportedLanguages };
};
